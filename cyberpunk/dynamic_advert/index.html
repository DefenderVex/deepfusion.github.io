<!--
Hey Denim, heard you were snooping around here.
Glad to see that even though you think i'm a prick that you still
feel like you need the stuff I created. :)

PS: Next time you say you had to fix my "broken as shit code", remember
that I warned you not to update to NutScript 2.0 because that exact thing
could happen.
-->

<html>
	<head>
		<meta http-equiv="Refresh" content="1800">
	</head>
	<body style="background-color: black; padding: 0; margin: 0; overflow: hidden;">
		<script language="javascript">
			// /paneladd http://defendervex.github.io/cyberpunk/dynamic_advert/index.html 980 540 1.4
			var adverts = [
				//["img/BioStat.gif", 14920],
				//["img/Praxis.gif", 15130],
				["img/AdSpot.gif", 12960],
				//["img/CSEC.gif", 15410],
				//["img/Luxor.gif", 19490],
			]

			var index = 0
			var preload = []
			var unused = []

			for (i = 0; i < adverts.length; i++) {
				unused[i] = i
			}

			for (n = 0; n < adverts.length; n++) {
				preload[n] = new Image()
				preload[n].src = adverts[n][0]
			}

			index = unused[Math.floor(Math.random() * unused.length)]

			var i = unused.indexOf(index); if (i > -1) {unused.splice(i, 1)}

			document.write('<img name="defaultimage" src="' + adverts[index][0] + '">')

			function rotateimage() {
				if (unused.length <= 0) {
					for (i = 0; i <= adverts.length-1; i++) {
						unused[i] = i
					}
				}

				index = unused[Math.floor(Math.random() * unused.length)]

				var i = unused.indexOf(index); if (i > -1) {unused.splice(i, 1)}

				document.images.defaultimage.src = adverts[index][0]
			}

			setInterval("rotateimage()", adverts[index][1])
		</script>
	</body>
</html>
