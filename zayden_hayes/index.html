<!DOCTYPE html>
	<head>
		<title>Zayden Hayes</title>
		<link rel="stylesheet" href="style.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	</head>

	<body>
		<div class="content" id="splash" onclick="CloseSplash()" style="display: block;">
			<div class="center">
				<div class="container">
					<h1 style="text-align: center;">CLICK ANYWHERE TO CONTINUE</h1>
				</div>
			</div>
		</div>

		<div class="content" id="content">
			<div class="center">
				<div class="container">
					<hr>
					<div class="profile">
						<div class="picture"><img src="images/profiles/zayden.png"></div>
						<div class="text"><h1>Zayden Hayes</h1></div>
					</div>
					<hr>
					<img src="images/info.png" style="transform: translateZ(24px);">
					<hr>
					<a onclick="ShowRelations()">"THOSE WHO I KNOW"</a>
					<hr>
				</div>
			</div>
		</div>

		<div class="content" id="popups">
			<div class="center">
				<div class="container">
					<hr>
					<div class="card" id="profile_sia" style="display: none;">
						<div class="profile">
							<div class="text">
								<h2 class="liked">Sia Baquera</h2>
								<p>"I didn't actually ever plan to run into you again, I got lucky and got out before AC pretty much exploded like a scene out of Death Stranding and I wasn't exactly planning on coming back. Look it's not like it isn't nice to know you're not dead but I left for a reason."</p>
							</div>
							<div class="picture"><img src="images/profiles/sia.png" style="transform: rotate(0deg);"></div>
						</div>
					</div>
					<div class="card" id="profile_vasily" style="display: none;">
						<div class="profile">
							<div class="text">
								<h2 class="neutral">Vasily Ulyanova</h2>
								<p>"Vas you are -- dunno, green? Totally planning something but I'm not sure you actually know what you're doing. Just know you better be careful what you decide to dig into or get involved with."</p>
							</div>
							<div class="picture"><img src="images/profiles/vasily.png" style="transform: rotate(2deg);"></div>
						</div>
					</div>
					<div class="card" id="profile_teagan" style="display: none;">
						<div class="profile">
							<div class="text">
								<h2 class="admired">Teagan Ridge</h2>
								<p>"I know we haven't seen each other much since I enlisted but I can say the time I spent with you when I am around has been some of the best highlights of my life. If I have any say in it, you better be sticking around for the long haul hotshot."</p>
							</div>
							<div class="picture"><img src="images/profiles/teagan.png" style="transform: rotate(-1deg);"></div>
						</div>
					</div>
					<hr>
					<a onclick="ClosePopups()">"THOSE WHO I KNOW"</a>
					<hr>
				</div>
			</div>
		</div>

		<div class="content" id="relations">
			<div class="center">
				<div class="container">
					<hr>
					<img src="images/grade.png" style="transform: translateZ(24px);">
					<hr>
					<div class="polaroids">
						<div class="image">
							<img src="images/profiles/sia.png" style="transform: rotate(0deg);">
							<a onclick="ShowPopup('profile_sia')"><h2 class="liked">Sia Baquera</h2></a>
						</div>
						<div class="image">
							<img src="images/profiles/vasily.png" style="transform: rotate(2deg);">
							<a onclick="ShowPopup('profile_vasily')"><h3 class="neutral">Vasily Ulyanova</h2></a>
						</div>
						<div class="image">
							<img src="images/profiles/teagan.png" style="transform: rotate(-1deg);">
							<a onclick="ShowPopup('profile_teagan')"><h2 class="admired">Teagan Ridge</h2></a>
						</div>
					</div>
					<!--<hr class="polaroids">-->
					<hr>
					<a onclick="ShowContent()">"THAT WHICH I AM"</a>
					<hr>
				</div>
			</div>
		</div>

		<script>
			var baseSize = {
			    w: 2560 * 0.9,
			    h: 1440 * 0.9
			}

			function updateScale() {
		    var ww = $(window).width();
		    var wh = $(window).height();
		    var newScale = 1;

		    // compare ratios
		    if (ww / wh < baseSize.w / baseSize.h) { // tall ratio
		        newScale = ww / baseSize.w;
		    } else { // wide ratio
		        newScale = wh / baseSize.h;
		    }

				return "scale(" + newScale + "," +  newScale + ")"
			}

			!(function ($doc, $win) {
				var screenWidth = $(window).width() / 2,
					screenHeight = $(window).height() / 2,
					$elems = $doc.getElementsByClassName("container"),
					validPropertyPrefix = '',
					otherProperty = 'perspective(1000px) ' + updateScale(),
					elemStyle = $elems[0].style;

				if(typeof elemStyle.webkitTransform == 'string') {
					validPropertyPrefix = 'webkitTransform';
				} else if (typeof elemStyle.MozTransform == 'string') {
					validPropertyPrefix = 'MozTransform';
				}

				$doc.addEventListener('mousemove', function (e) {
					var centroX = e.clientX - screenWidth,
						centroY = screenHeight - (e.clientY + 13),
						degX = centroX * 0.04 / 8,
						degY = 0, //centroY * 0.04 / 8,
						$elem

					for (var i = 0; i < $elems.length; i++) {
			   			$elem = $elems[i];
						$elem.style[validPropertyPrefix] = otherProperty + 'rotateY('+ degX +'deg)  rotateX('+ degY +'deg)';
					};
				});
			})(document, window);
		</script>

		<script>
			var sound_page = new Audio("sounds/window_open.wav");
			var sound_hover = new Audio("sounds/button_hover.wav");
			var sound_click = new Audio("sounds/button_click.wav");
			var sound_bg = new Audio("sounds/background.mp3");

			var relations = document.getElementById("relations");
			var content = document.getElementById("content");
			var popups = document.getElementById("popups");

			var active = "";

			$(document).ready(function() {
				var splash = document.getElementById("splash");
				splash.style.display = "block";

			  $("a").on("mouseover", function(event) {
			    sound_hover.play();
			  });
			})

			sound_bg.addEventListener("ended", function() {
		    this.currentTime = 0;
		    this.play();
			}, false);

			function CloseSplash() {
				var splash = document.getElementById("splash");

				splash.style.display = "none";
				content.style.display = "block";

				sound_bg.volume = 0.25;
				sound_bg.play();
			}

			function ClosePopups() {
				var pop = document.getElementById(active);

				relations.style.display = "block";
				popups.style.display = "none";
				pop.style.display = "none";

				sound_click.play();
				sound_page.play();
			}

			function ShowPopup(popup) {
				var pop = document.getElementById(popup);

				relations.style.display = "none";
				popups.style.display = "block";
				pop.style.display = "block";

				active = popup;

				sound_click.play();
				sound_page.play();
			}

			function ShowRelations() {
				relations.style.display = "block";
				content.style.display = "none";

				sound_click.play();
				sound_page.play();
			}

			function ShowContent() {
				relations.style.display = "none";
				content.style.display = "block";

				sound_click.play();
				sound_page.play();
			}
		</script>
	</body>
</html>
